# 回形针事务所 004 - 固态硬盘到底好在哪？

我是张每羊，这里是回形针事务所，今天我们准备研究一下硬盘是如何工作的，以及固态硬盘到底好在哪里。

在几年前，绝大多数人用的都是机械硬盘，固态硬盘还是个奢侈且稀有的选项，但随着技术的不断成熟，固态硬盘正越来越普遍，全球出货量有望在 2019 年历史性地反超机械硬盘。

是的，硬盘界的全民消费升级马上就要来了。

相比机械硬盘，固态硬盘在读写速度上有压倒性优势。

机械硬盘靠内部的磁盘来存储数据，一片磁盘可划成不同的磁道，每个磁道又分为不同的扇区，电脑上的各个文件就分散存储在磁盘的各个扇区中。

而读写数据靠的是上方距离磁盘仅 3 纳米的磁头，当需要读取某个文件时，这个磁头会在电机驱动下先摆到对应磁道，再等磁盘转到对应扇区才能读取，这个过程一般会有十几毫秒的延迟。

固态硬盘中则不存在任何移动的机械结构，在工作时，数据会通过接口进入主控制器，经处理后再分配到闪存芯片中储存。不论写入还是读取，都是以纯电子电路的方式实现，几乎没有延迟。

正因为此，固态硬盘的读写速度往往比机械硬盘快十倍以上，最直观的表现就是使用机械硬盘的老电脑开机要几十秒乃至一分钟，而使用固态硬盘的通常只需几秒。

不过，固态硬盘虽然快，但刚进入消费市场时，价格也高的吓人。2007 年，固态硬盘每 GB 的价格是机械硬盘的近百倍，但好在厂商很快找到了降价的方法。

固态硬盘中用于存储数据的闪存芯片，内部最基本的存储单元是浮栅晶体管。在早期，一个浮栅晶体管只能存储 0 或 1，也就是 1 比特的数据，称为 SLC 。而通过升级浮栅晶体管的设计，在此后又进化出了 MLC、TLC 和 QLC ，它们存储数据的能力从 2 比特一路提升至 4 比特。

单位存储能力的提升大幅降低了固态硬盘的价格。今天，约 1TB 大小的固态硬盘，价格也只有机械硬盘的 2.6 倍而已。

然而，便宜的售价也带来了必要的牺牲。

存储数据的浮栅晶体管是有寿命的，通常来说，SLC 擦写约 10 万次后就会失效，而 MLC、TLC 和 QLC 因为内部结构更精细，擦写上限更是呈指数级下降。

需要注意，固态硬盘的擦写次数指的是整盘写满才算一次，写入一半并不算一次，而读取数据不影响寿命，则不算次数。

除了寿命，固态硬盘还面临其他挑战。

一个闪存芯片一般排布着若干个区块用于存储数据，它们的擦写次数是分开计算的。对某些区块的频繁修改很可能让它们提前达到擦写上限，变成坏块，降低硬盘的储存量和运行速度。

因此，固态硬盘需要损耗均衡技术拯救。

最简单的是动态均衡，当我们需要擦写数据时，主控制器会优先选择剩余擦写次数较多的年轻区块，而不使用那些年老的区块。

更复杂的静态均衡指的是，主控制器会优先把那些长久不用的冷数据从年轻区块搬到年老区块中，这样年轻区块就可以腾出空间用来擦写新数据，从而平衡各个区块的寿命。

在这些技术的加持下，你完全不必担心固态硬盘的寿命问题。

在购买固态硬盘时，可以查看厂商标注的总写入量。以金士顿 A1000 1TB 的固态硬盘为例，总写入量高达 600TB ，也就是说，整盘写入 1TB 的数据再擦除，重复 600 次才会让固态硬盘失效。

在日常使用时，即便你每天往硬盘里安装再删除三款总计 200GB 的大型游戏，你的硬盘也能用 8 年零 5 个月。

而且今天的固态硬盘一般有 3\~5 年的保修服务，但要注意，不同厂商对总写入量的保修政策不同，如果你用的太狠，提前达到了硬盘的总写入量，部分厂商也会提前终止保修服务。

相比之下，机械硬盘虽然理论寿命长，但不论读写速度，还是大小重量、运行时的能耗、噪音都远不如固态硬盘，在长期使用后，还会因为内部金属部件的磨损，让你感受比慢更慢、比吵更吵的糟糕体验。

最重要的是，在机械硬盘中，磁头与磁盘间纳米级的距离也给数据安全埋下了隐患，任何振动、跌落、碰撞都可能损坏里面复杂精细的金属部件。

从这个对比试验中，你可以直观地看到，当机械硬盘因振动而停止工作时，固态硬盘还是可以顺畅地运行，在极高的振动频率下，依然能保护你硬盘里的毕生积蓄。
